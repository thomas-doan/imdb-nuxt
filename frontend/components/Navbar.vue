<template>
  <div>
    <nav class="bg-red-600 h-16 flex justify-between p-3">
      <nuxt-link to="/"
        ><p class="italic text-2xl font-bold text-g text-white">
          GLASS VIEW
        </p></nuxt-link
      >

      <div class="flex justify-around">
        <input
          class=" border-red-600 w-96 h-30 rounded-xl"
          type="search"
          value="kw"
          v-model="keyword"
          placeholder="Search Film"
        />
        <button
          @click="byKeyword()"
          v-on:keyup.enter="byKeyword()"
          type="submit"
          v-on:click="toggle = !toggle"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 80 80"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M13.5775 30.724C15.8197 22.3559 22.3559 15.8197 30.724 13.5775C39.092 11.3353 48.0206 13.7277 54.1464 19.8536C60.2723 25.9794 62.6647 34.908 60.4225 43.276C58.1802 51.6441 51.6441 58.1802 43.276 60.4225C34.908 62.6647 25.9794 60.2723 19.8536 54.1464C13.7277 48.0206 11.3353 39.092 13.5775 30.724ZM52.0887 55.9828L64.6608 68.5548C65.8324 69.7264 67.7318 69.7264 68.9034 68.5548C70.075 67.3833 70.075 65.4838 68.9034 64.3122L56.288 51.6967C55.0707 53.2939 53.6597 54.7338 52.0887 55.9828ZM36.9951 19.2776C33.9372 19.278 30.878 20.0694 28.1375 21.6516C22.6553 24.8168 19.278 30.6661 19.2776 36.9964C19.2776 38.6532 20.6206 39.9965 22.2775 39.9966C23.9343 39.9966 25.2776 38.6536 25.2776 36.9967C25.2779 32.8099 27.5116 28.9412 31.1375 26.8477C32.9502 25.8012 34.9724 25.2779 36.9959 25.2776C38.6528 25.2774 39.9957 23.9341 39.9955 22.2772C39.9953 20.6204 38.652 19.2774 36.9951 19.2776Z"
              fill="#C2CCDE"
            />
          </svg>
        </button>
        <button v-on:click="toggle = !toggle">X</button>
      </div>
      <!-- <p>{{ message }} {{idUser}}</p> -->
      <div class="flex justify-center">
        <a href="/login " class="text-white text-lg m-2 flex" v-if="!auth">
          <svg
            width="25"
            height="25"
            viewBox="0 0 80 80"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M60 70L20 70C17.7909 70 16 68.2091 16 66C16 59.3836 20.1048 53.4615 26.3003 51.1395L27.5304 50.6785C35.5704 47.6651 44.4296 47.6651 52.4696 50.6785L53.6997 51.1395C59.8952 53.4615 64 59.3836 64 66C64 68.2091 62.2091 70 60 70Z"
              fill="#C2CCDE"
              stroke="#C2CCDE"
              stroke-width="4"
              stroke-linecap="square"
              stroke-linejoin="round"
            />
            <path
              d="M33.9015 38.8673C37.7294 40.8336 42.2706 40.8336 46.0985 38.8673C49.6611 37.0373 52.2136 33.7042 53.0516 29.7878L53.2752 28.7425C54.1322 24.7375 53.2168 20.5576 50.7644 17.2774L50.4053 16.797C47.9525 13.5163 44.0962 11.5845 40 11.5845C35.9038 11.5845 32.0475 13.5163 29.5947 16.797L29.2356 17.2774C26.7832 20.5576 25.8678 24.7375 26.7248 28.7425L26.9484 29.7878C27.7864 33.7042 30.3389 37.0373 33.9015 38.8673Z"
              fill="#C2CCDE"
              stroke="#C2CCDE"
              stroke-width="4"
              stroke-linecap="round"
              stroke-linejoin="round"
            /></svg
          >Login</a
        >
        <a href="/movies/mymovies" class="text-white text-lg m-2 flex" v-if="auth">
         ‚ù§
        </a>
        <a
          href="#"
          @click="logout()"
          class="text-white text-lg m-2 flex"
          
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 80 80"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M43.4995 16.501C43.4995 14.2918 41.7087 12.501 39.4995 12.501C37.2904 12.501 35.4995 14.2918 35.4995 16.501L35.4995 42.501C35.4995 44.7101 37.2904 46.501 39.4995 46.501C41.7087 46.501 43.4995 44.7101 43.4995 42.501L43.4995 16.501ZM15.3195 30.4439C16.585 27.3886 18.4041 24.6324 20.6555 22.2966C22.144 20.7523 24.6023 21.0472 25.965 22.7036C27.4038 24.4526 27.049 27.0303 25.5914 28.7636C24.4047 30.1746 23.4291 31.7705 22.7105 33.5054C20.866 37.9583 20.866 42.9616 22.7105 47.4145C24.555 51.8674 28.0928 55.4053 32.5457 57.2497C36.9986 59.0942 42.0019 59.0942 46.4548 57.2497C50.9077 55.4053 54.4456 51.8674 56.29 47.4145C58.1345 42.9616 58.1345 37.9583 56.29 33.5054C55.4477 31.472 54.2523 29.6294 52.7779 28.0517C51.2726 26.4409 50.7598 23.9834 51.9978 22.159C53.2411 20.3268 55.762 19.8325 57.3791 21.3451C60.0788 23.8702 62.2392 26.9629 63.6811 30.4439C66.3375 36.8571 66.3375 44.0628 63.6811 50.476C61.0246 56.8891 55.9294 61.9843 49.5163 64.6408C43.1031 67.2972 35.8974 67.2972 29.4842 64.6408C23.0711 61.9843 17.9759 56.8891 15.3195 50.476C12.663 44.0628 12.663 36.8571 15.3195 30.4439Z"
              fill="#C2CCDE"
            />
            <path
              d="M43.4995 16.501H42.9995H43.4995ZM35.4995 16.501H34.9995H35.4995ZM35.4995 42.501H35.9995H35.4995ZM43.4995 42.501H43.9995H43.4995ZM15.3195 30.4439L14.8575 30.2526L15.3195 30.4439ZM22.7105 33.5054L22.2486 33.3141L22.7105 33.5054ZM22.7105 47.4145L23.1724 47.2232L22.7105 47.4145ZM32.5457 57.2497L32.3544 57.7117L32.5457 57.2497ZM46.4548 57.2497L46.2635 56.7878L46.4548 57.2497ZM56.29 47.4145L55.8281 47.2232L56.29 47.4145ZM56.29 33.5054L56.752 33.3141L56.29 33.5054ZM63.6811 30.4439L63.2191 30.6353L63.6811 30.4439ZM63.6811 50.476L63.2191 50.2846L63.6811 50.476ZM49.5163 64.6408L49.3249 64.1788L49.5163 64.6408ZM29.4842 64.6408L29.6756 64.1788L29.4842 64.6408ZM15.3195 50.476L15.7814 50.2846L15.3195 50.476ZM39.4995 13.001C41.4325 13.001 42.9995 14.568 42.9995 16.501L43.9995 16.501C43.9995 14.0157 41.9848 12.001 39.4995 12.001V13.001ZM35.9995 16.501C35.9995 14.568 37.5665 13.001 39.4995 13.001V12.001C37.0143 12.001 34.9995 14.0157 34.9995 16.501H35.9995ZM35.9995 42.501L35.9995 16.501H34.9995L34.9995 42.501H35.9995ZM39.4995 46.001C37.5666 46.001 35.9995 44.434 35.9995 42.501H34.9995C34.9995 44.9863 37.0143 47.001 39.4995 47.001V46.001ZM42.9995 42.501C42.9995 44.434 41.4325 46.001 39.4995 46.001V47.001C41.9848 47.001 43.9995 44.9863 43.9995 42.501H42.9995ZM42.9995 16.501L42.9995 42.501H43.9995L43.9995 16.501L42.9995 16.501ZM20.2955 21.9496C18.0011 24.3301 16.1472 27.1389 14.8575 30.2526L15.7814 30.6353C17.0228 27.6383 18.8071 24.9348 21.0155 22.6436L20.2955 21.9496ZM23.1724 33.6967C23.8713 32.0096 24.82 30.4576 25.974 29.0854L25.2087 28.4417C23.9894 29.8916 22.9869 31.5315 22.2486 33.3141L23.1724 33.6967ZM23.1724 47.2232C21.3787 42.8927 21.3787 38.0272 23.1724 33.6967L22.2486 33.3141C20.3533 37.8895 20.3533 43.0304 22.2486 47.6058L23.1724 47.2232ZM32.737 56.7878C28.4066 54.9941 24.9661 51.5536 23.1724 47.2232L22.2486 47.6058C24.1438 52.1813 27.7789 55.8164 32.3544 57.7117L32.737 56.7878ZM46.2635 56.7878C41.9331 58.5815 37.0675 58.5815 32.737 56.7878L32.3544 57.7117C36.9298 59.6069 42.0707 59.6069 46.6461 57.7117L46.2635 56.7878ZM55.8281 47.2232C54.0344 51.5536 50.5939 54.9941 46.2635 56.7878L46.6461 57.7117C51.2216 55.8164 54.8568 52.1813 56.752 47.6058L55.8281 47.2232ZM55.8281 33.6967C57.6218 38.0272 57.6218 42.8928 55.8281 47.2232L56.752 47.6058C58.6472 43.0304 58.6472 37.8895 56.752 33.3141L55.8281 33.6967ZM52.4126 28.3931C53.8465 29.9274 55.009 31.7192 55.8281 33.6967L56.752 33.3141C55.8865 31.2247 54.6582 29.3314 53.1432 27.7103L52.4126 28.3931ZM64.143 30.2526C62.6736 26.7051 60.4719 23.5533 57.7206 20.9799L57.0375 21.7102C59.6857 24.1872 61.8048 27.2208 63.2191 30.6353L64.143 30.2526ZM64.143 50.6673C66.8502 44.1317 66.8502 36.7883 64.143 30.2526L63.2191 30.6353C65.8248 36.9259 65.8248 43.994 63.2191 50.2846L64.143 50.6673ZM49.7076 65.1027C56.2433 62.3955 61.4358 57.203 64.143 50.6673L63.2191 50.2846C60.6134 56.5753 55.6156 61.5731 49.3249 64.1788L49.7076 65.1027ZM29.2929 65.1027C35.8286 67.8098 43.172 67.8098 49.7076 65.1027L49.3249 64.1788C43.0343 66.7845 35.9662 66.7845 29.6756 64.1788L29.2929 65.1027ZM14.8575 50.6673C17.5647 57.203 22.7572 62.3955 29.2929 65.1027L29.6756 64.1788C23.3849 61.5731 18.3871 56.5753 15.7814 50.2846L14.8575 50.6673ZM14.8575 30.2526C12.1504 36.7883 12.1504 44.1316 14.8575 50.6673L15.7814 50.2846C13.1757 43.994 13.1757 36.9259 15.7814 30.6353L14.8575 30.2526ZM53.1432 27.7103C51.751 26.2205 51.3392 24.0199 52.4115 22.4398L51.584 21.8783C50.1803 23.9469 50.7941 26.6612 52.4126 28.3931L53.1432 27.7103ZM25.5788 23.0213C26.8232 24.5339 26.5572 26.8383 25.2087 28.4417L25.974 29.0854C27.5408 27.2223 27.9843 24.3712 26.3511 22.386L25.5788 23.0213ZM52.4115 22.4398C53.5135 20.8159 55.6833 20.4436 57.0375 21.7102L57.7206 20.9799C55.8406 19.2214 52.9687 19.8378 51.584 21.8783L52.4115 22.4398ZM21.0155 22.6436C22.262 21.3504 24.373 21.5555 25.5788 23.0213L26.3511 22.386C24.8316 20.5389 22.026 20.1542 20.2955 21.9496L21.0155 22.6436Z"
              fill="#C2CCDE"
            /></svg
          >logout</a
        >
        
        <a href="/admin " class="text-white text-lg m-2 flex" v-if="admin == 1">
          <svg
            width="30"
            height="30"
            viewBox="0 0 80 80"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M46.0191 18.8297C46.0809 19.6102 46.5962 20.2749 47.3136 20.5887C48.0214 20.8983 48.7158 21.2499 49.3933 21.6434C50.0481 22.0238 50.6767 22.4387 51.2775 22.8848C51.9102 23.3548 52.7495 23.471 53.4603 23.1307L57.5672 21.1644C58.3522 20.7886 59.2959 20.9589 59.8578 21.6235C62.0233 24.1846 63.7057 27.1304 64.8191 30.2982C65.1049 31.1115 64.7839 32.0038 64.0753 32.4948L60.3052 35.1073C59.6629 35.5524 59.3474 36.33 59.4357 37.1065C59.5231 37.874 59.5676 38.6501 59.5676 39.4311C59.5676 40.2126 59.523 40.989 59.4356 41.757C59.3472 42.5335 59.6627 43.3111 60.3051 43.7562L64.0733 46.3675C64.7819 46.8586 65.1029 47.7511 64.8169 48.5644C63.7027 51.7322 62.0194 54.6777 59.8531 57.2385C59.2911 57.9028 58.3476 58.0729 57.5628 57.6972L53.4592 55.7325C52.7483 55.3922 51.9092 55.5084 51.2764 55.9782C50.676 56.4241 50.0477 56.8387 49.3933 57.2188C48.7158 57.6124 48.0214 57.964 47.3137 58.2735C46.5963 58.5873 46.081 59.252 46.0192 60.0326L45.6558 64.6229C45.5876 65.4848 44.9744 66.2127 44.1245 66.3713C40.8204 66.9877 37.4282 66.9881 34.124 66.3723C33.2739 66.2139 32.6605 65.486 32.5923 64.6239L32.2288 60.033C32.167 59.2524 31.6517 58.5877 30.9343 58.2739C30.2263 57.9642 29.5316 57.6125 28.8539 57.2188C28.1996 56.8387 27.5714 56.4242 26.971 55.9784C26.3383 55.5086 25.4991 55.3924 24.7883 55.7327L20.6816 57.6989C19.8969 58.0746 18.9534 57.9046 18.3914 57.2404C16.225 54.68 14.5416 51.7349 13.4271 48.5675C13.1409 47.7541 13.4619 46.8615 14.1707 46.3703L17.9421 43.7568C18.5845 43.3117 18.9 42.534 18.8116 41.7575C18.7241 40.9894 18.6795 40.2128 18.6795 39.4311C18.6795 38.6499 18.7241 37.8737 18.8115 37.106C18.8998 36.3295 18.5843 35.5519 17.942 35.1068L14.1686 32.4919C13.46 32.0009 13.139 31.1085 13.4249 30.2952C14.5386 27.1277 16.2211 24.1824 18.3867 21.6216C18.9486 20.9571 19.8923 20.7869 20.6772 21.1627L24.7872 23.1304C25.498 23.4707 26.3372 23.3545 26.97 22.8846C27.5707 22.4385 28.1992 22.0238 28.8539 21.6434C29.5316 21.2497 30.2263 20.898 30.9344 20.5884C31.6518 20.2746 32.1672 19.6099 32.2289 18.8293L32.5929 14.2323C32.6611 13.3703 33.2745 12.6423 34.1246 12.4839C37.4284 11.8683 40.8202 11.8686 44.1238 12.485C44.9738 12.6435 45.587 13.3714 45.6552 14.2333L46.0191 18.8297ZM44.2581 30.5376C41.0833 28.6933 37.1632 28.6933 33.9884 30.5376C30.8391 32.3672 28.9012 35.7893 28.9012 39.4315C28.9012 43.0736 30.8391 46.4958 33.9884 48.3253C37.1632 50.1697 41.0833 50.1697 44.2581 48.3253C47.4073 46.4958 49.3453 43.0736 49.3453 39.4315C49.3453 35.7893 47.4073 32.3672 44.2581 30.5376Z"
              fill="#C2CCDE"
            />
            <path
              d="M49.3933 21.6434L48.1374 23.8051V23.8051L49.3933 21.6434ZM49.3933 57.2188L48.1374 55.0572V55.0572L49.3933 57.2188ZM28.8539 57.2188L27.5981 59.3805H27.5981L28.8539 57.2188ZM28.8539 21.6434L27.5981 19.4818L27.5981 19.4818L28.8539 21.6434ZM33.9884 30.5376L35.2442 32.6993L33.9884 30.5376ZM44.2581 30.5376L43.0022 32.6993H43.0022L44.2581 30.5376ZM33.9884 48.3253L32.7326 50.487H32.7326L33.9884 48.3253ZM44.2581 48.3253L45.5139 50.487L44.2581 48.3253ZM45.6552 14.2333L48.1474 14.036L45.6552 14.2333ZM14.1686 32.4919L15.5925 30.4371L14.1686 32.4919ZM17.942 35.1068L16.518 37.1616L17.942 35.1068ZM17.9421 43.7568L19.3661 45.8117L17.9421 43.7568ZM13.4271 48.5675L15.7854 47.7377L13.4271 48.5675ZM14.1707 46.3703L12.7467 44.3155L14.1707 46.3703ZM18.3914 57.2404L20.2999 55.6256L18.3914 57.2404ZM26.971 55.9784L25.4807 57.9856L26.971 55.9784ZM24.7883 55.7327L23.7087 53.4779L24.7883 55.7327ZM32.2288 60.033L29.7366 60.2303L32.2288 60.033ZM30.9343 58.2739L29.9325 60.5644L30.9343 58.2739ZM34.124 66.3723L33.666 68.83L34.124 66.3723ZM32.5923 64.6239L30.1001 64.8212L32.5923 64.6239ZM53.4592 55.7325L54.5388 53.4776L53.4592 55.7325ZM51.2764 55.9782L49.7861 53.971L51.2764 55.9782ZM59.8531 57.2385L57.9444 55.6239L59.8531 57.2385ZM57.5628 57.6972L56.4832 59.9521L57.5628 57.6972ZM64.0733 46.3675L62.6493 48.4223L64.0733 46.3675ZM64.8169 48.5644L62.4585 47.7349L64.8169 48.5644ZM59.4356 41.757L56.9517 41.4742L59.4356 41.757ZM60.3051 43.7562L58.8811 45.8111L60.3051 43.7562ZM34.1246 12.4839L33.6667 10.0262L34.1246 12.4839ZM60.3052 35.1073L61.7292 37.1622L60.3052 35.1073ZM59.4357 37.1065L61.9197 36.8238L59.4357 37.1065ZM30.9344 20.5884L29.9326 18.2978L30.9344 20.5884ZM32.2289 18.8293L29.7367 18.632L32.2289 18.8293ZM64.8191 30.2982L67.1777 29.4693L64.8191 30.2982ZM59.8578 21.6235L57.9487 23.2376L59.8578 21.6235ZM45.6558 64.6229L43.1636 64.4256L45.6558 64.6229ZM44.1245 66.3713L44.583 68.8289L44.1245 66.3713ZM26.97 22.8846L25.4795 20.8775L26.97 22.8846ZM51.2775 22.8848L49.787 24.8919L51.2775 22.8848ZM53.4603 23.1307L54.5399 25.3855L53.4603 23.1307ZM47.3137 58.2735L46.3118 55.9831L47.3137 58.2735ZM46.0192 60.0326L48.5114 60.2299L46.0192 60.0326ZM18.3867 21.6216L20.2956 23.2359L18.3867 21.6216ZM20.6772 21.1627L21.7568 18.9078L20.6772 21.1627ZM47.3136 20.5887L46.3117 22.8792L47.3136 20.5887ZM50.6491 19.4818C49.8891 19.0403 49.1099 18.6457 48.3155 18.2982L46.3117 22.8792C46.9329 23.1509 47.5425 23.4595 48.1374 23.8051L50.6491 19.4818ZM52.768 20.8778C52.0925 20.3761 51.3856 19.9096 50.6491 19.4818L48.1374 23.8051C48.7105 24.1381 49.2608 24.5012 49.787 24.8919L52.768 20.8778ZM56.4876 18.9095L52.3808 20.8758L54.5399 25.3855L58.6468 23.4193L56.4876 18.9095ZM67.1777 29.4693C65.9641 26.0163 64.1299 22.8042 61.7669 20.0093L57.9487 23.2376C59.9167 25.5651 61.4473 28.2444 62.4605 31.1272L67.1777 29.4693ZM61.7292 37.1622L65.4993 34.5496L62.6514 30.4399L58.8813 33.0525L61.7292 37.1622ZM62.0676 39.4311C62.0676 38.5549 62.0177 37.6846 61.9197 36.8238L56.9518 37.3891C57.0285 38.0635 57.0676 38.7452 57.0676 39.4311H62.0676ZM61.9196 42.0398C62.0176 41.1786 62.0676 40.3078 62.0676 39.4311H57.0676C57.0676 40.1175 57.0285 40.7995 56.9517 41.4742L61.9196 42.0398ZM65.4972 44.3126L61.729 41.7014L58.8811 45.8111L62.6493 48.4223L65.4972 44.3126ZM61.7617 58.8531C64.1257 56.0587 65.9607 52.8468 67.1752 49.394L62.4585 47.7349C61.4446 50.6176 59.9131 53.2967 57.9444 55.6239L61.7617 58.8531ZM52.3796 57.9874L56.4832 59.9521L58.6423 55.4423L54.5388 53.4776L52.3796 57.9874ZM50.6491 59.3805C51.3852 58.9529 52.0917 58.4867 52.7668 57.9854L49.7861 53.971C49.2602 54.3615 48.7102 54.7244 48.1374 55.0572L50.6491 59.3805ZM48.3156 60.564C49.11 60.2165 49.8892 59.822 50.6491 59.3805L48.1374 55.0572C47.5425 55.4028 46.9329 55.7114 46.3118 55.9831L48.3156 60.564ZM48.148 64.8202L48.5114 60.2299L43.527 59.8353L43.1636 64.4256L48.148 64.8202ZM33.666 68.83C37.2731 69.5022 40.976 69.5018 44.583 68.8289L43.6659 63.9137C40.6648 64.4736 37.5833 64.4739 34.582 63.9146L33.666 68.83ZM29.7366 60.2303L30.1001 64.8212L35.0845 64.4266L34.721 59.8357L29.7366 60.2303ZM27.5981 59.3805C28.3583 59.8222 29.1378 60.2168 29.9325 60.5644L31.9361 55.9834C31.3147 55.7116 30.7049 55.4029 30.1097 55.0572L27.5981 59.3805ZM25.4807 57.9856C26.1557 58.4868 26.8621 58.953 27.5981 59.3805L30.1097 55.0572C29.5371 54.7245 28.9871 54.3616 28.4614 53.9712L25.4807 57.9856ZM21.7612 59.9538L25.8679 57.9876L23.7087 53.4779L19.602 55.444L21.7612 59.9538ZM11.0689 49.3973C12.2836 52.8497 14.1189 56.0612 16.4829 58.8552L20.2999 55.6256C18.3312 53.2988 16.7996 50.6201 15.7854 47.7377L11.0689 49.3973ZM16.5182 41.702L12.7467 44.3155L15.5946 48.4252L19.3661 45.8117L16.5182 41.702ZM16.1795 39.4311C16.1795 40.308 16.2296 41.179 16.3276 42.0403L21.2955 41.4747C21.2187 40.7998 21.1795 40.1176 21.1795 39.4311H16.1795ZM16.3275 36.8233C16.2295 37.6842 16.1795 38.5548 16.1795 39.4311H21.1795C21.1795 38.745 21.2187 38.0632 21.2954 37.3886L16.3275 36.8233ZM12.7446 34.5468L16.518 37.1616L19.3659 33.0519L15.5925 30.4371L12.7446 34.5468ZM16.4777 20.0073C14.1146 22.8017 12.2803 26.0134 11.0664 29.466L15.7834 31.1244C16.7968 28.242 18.3276 25.563 20.2956 23.2359L16.4777 20.0073ZM25.8667 20.8755L21.7568 18.9078L19.5976 23.4175L23.7076 25.3853L25.8667 20.8755ZM27.5981 19.4818C26.8617 19.9096 26.1549 20.376 25.4795 20.8775L28.4605 24.8917C28.9865 24.5011 29.5367 24.138 30.1097 23.8051L27.5981 19.4818ZM29.9326 18.2978C29.1379 18.6454 28.3583 19.0401 27.5981 19.4818L30.1097 23.8051C30.7049 23.4594 31.3148 23.1506 31.9361 22.8789L29.9326 18.2978ZM30.1007 14.035L29.7367 18.632L34.7212 19.0266L35.0851 14.4296L30.1007 14.035ZM44.5823 10.0274C40.9758 9.35454 37.2733 9.35416 33.6667 10.0262L34.5826 14.9416C37.5835 14.3824 40.6646 14.3827 43.6654 14.9426L44.5823 10.0274ZM48.5113 18.6324L48.1474 14.036L43.163 14.4306L43.5269 19.027L48.5113 18.6324ZM35.2442 32.6993C37.6425 31.306 40.6039 31.306 43.0022 32.6993L45.5139 28.376C41.5626 26.0805 36.6838 26.0805 32.7326 28.3759L35.2442 32.6993ZM31.4012 39.4315C31.4012 36.6651 32.878 34.074 35.2442 32.6993L32.7326 28.3759C28.8002 30.6604 26.4012 34.9135 26.4012 39.4315H31.4012ZM35.2442 46.1637C32.878 44.789 31.4012 42.1978 31.4012 39.4315H26.4012C26.4012 43.9494 28.8002 48.2025 32.7326 50.487L35.2442 46.1637ZM43.0022 46.1637C40.6039 47.557 37.6425 47.557 35.2442 46.1637L32.7326 50.487C36.6838 52.7825 41.5626 52.7825 45.5139 50.487L43.0022 46.1637ZM46.8453 39.4315C46.8453 42.1978 45.3684 44.789 43.0022 46.1637L45.5139 50.487C49.4462 48.2025 51.8453 43.9494 51.8453 39.4315H46.8453ZM43.0022 32.6993C45.3684 34.074 46.8453 36.6651 46.8453 39.4315H51.8453C51.8453 34.9135 49.4462 30.6604 45.5139 28.3759L43.0022 32.6993ZM43.6654 14.9426C43.3274 14.8795 43.1776 14.615 43.163 14.4306L48.1474 14.036C47.9964 12.1278 46.6202 10.4075 44.5823 10.0274L43.6654 14.9426ZM15.5925 30.4371C15.7446 30.5425 15.8963 30.8031 15.7834 31.1244L11.0664 29.466C10.3816 31.4138 11.1754 33.4593 12.7446 34.5468L15.5925 30.4371ZM21.2954 37.3886C21.4779 35.7852 20.8352 34.0701 19.3659 33.0519L16.518 37.1616C16.3334 37.0337 16.3217 36.8738 16.3275 36.8233L21.2954 37.3886ZM19.3661 45.8117C20.8355 44.7934 21.4781 43.0782 21.2955 41.4747L16.3276 42.0403C16.3219 41.9899 16.3335 41.8299 16.5182 41.702L19.3661 45.8117ZM15.7854 47.7377C15.8985 48.059 15.7467 48.3198 15.5946 48.4252L12.7467 44.3155C11.1771 45.4031 10.3834 47.4492 11.0689 49.3973L15.7854 47.7377ZM19.602 55.444C19.7698 55.3637 20.0763 55.3613 20.2999 55.6256L16.4829 58.8552C17.8305 60.4479 20.0239 60.7856 21.7612 59.9538L19.602 55.444ZM28.4614 53.9712C27.1578 53.0033 25.3354 52.699 23.7087 53.4779L25.8679 57.9876C25.6628 58.0858 25.5187 58.0139 25.4807 57.9856L28.4614 53.9712ZM34.721 59.8357C34.5797 58.0498 33.4162 56.6307 31.9361 55.9834L29.9325 60.5644C29.8873 60.5446 29.7544 60.4549 29.7366 60.2303L34.721 59.8357ZM34.582 63.9146C34.9201 63.9776 35.0699 64.2422 35.0845 64.4266L30.1001 64.8212C30.2512 66.7297 31.6277 68.4501 33.666 68.83L34.582 63.9146ZM54.5388 53.4776C52.912 52.6988 51.0896 53.0031 49.7861 53.971L52.7668 57.9854C52.7288 58.0136 52.5847 58.0856 52.3796 57.9874L54.5388 53.4776ZM57.9444 55.6239C58.1681 55.3595 58.4745 55.3619 58.6423 55.4423L56.4832 59.9521C58.2206 60.7839 60.4141 60.4461 61.7617 58.8531L57.9444 55.6239ZM62.6493 48.4223C62.4972 48.3169 62.3455 48.0562 62.4585 47.7349L67.1752 49.394C67.8604 47.446 67.0666 45.4002 65.4972 44.3126L62.6493 48.4223ZM56.9517 41.4742C56.7691 43.0777 57.4118 44.7929 58.8811 45.8111L61.729 41.7014C61.9137 41.8294 61.9253 41.9893 61.9196 42.0398L56.9517 41.4742ZM35.0851 14.4296C35.0705 14.614 34.9207 14.8786 34.5826 14.9416L33.6667 10.0262C31.6283 10.406 30.2518 12.1265 30.1007 14.035L35.0851 14.4296ZM58.8813 33.0525C57.412 34.0707 56.7693 35.7857 56.9518 37.3891L61.9197 36.8238C61.9255 36.8743 61.9138 37.0342 61.7292 37.1622L58.8813 33.0525ZM31.9361 22.8789C33.4163 22.2315 34.5798 20.8124 34.7212 19.0266L29.7367 18.632C29.7545 18.4073 29.8874 18.3176 29.9326 18.2978L31.9361 22.8789ZM62.4605 31.1272C62.3476 30.8059 62.4993 30.5453 62.6514 30.4399L65.4993 34.5496C67.0684 33.4623 67.8622 31.4171 67.1777 29.4693L62.4605 31.1272ZM58.6468 23.4193C58.4789 23.4996 58.1724 23.5021 57.9487 23.2376L61.7669 20.0093C60.4195 18.4156 58.2254 18.0775 56.4876 18.9095L58.6468 23.4193ZM43.1636 64.4256C43.1782 64.2413 43.328 63.9767 43.6659 63.9137L44.583 68.8289C46.6209 68.4486 47.997 66.7284 48.148 64.8202L43.1636 64.4256ZM23.7076 25.3853C25.3344 26.1642 27.1569 25.8598 28.4605 24.8917L25.4795 20.8775C25.5176 20.8492 25.6617 20.7773 25.8667 20.8755L23.7076 25.3853ZM49.787 24.8919C51.0905 25.86 52.9131 26.1644 54.5399 25.3855L52.3808 20.8758C52.5858 20.7776 52.7299 20.8495 52.768 20.8778L49.787 24.8919ZM46.3118 55.9831C44.8318 56.6304 43.6684 58.0495 43.527 59.8353L48.5114 60.2299C48.4936 60.4545 48.3608 60.5442 48.3156 60.564L46.3118 55.9831ZM20.2956 23.2359C20.072 23.5003 19.7654 23.4979 19.5976 23.4175L21.7568 18.9078C20.0191 18.0758 17.8252 18.4138 16.4777 20.0073L20.2956 23.2359ZM48.3155 18.2982C48.3607 18.318 48.4935 18.4077 48.5113 18.6324L43.5269 19.027C43.6683 20.8128 44.8317 22.2318 46.3117 22.8792L48.3155 18.2982Z"
              fill="#C2CCDE"
            /></svg
          >admin</a
        >
      </div>
    </nav>
    <!-- <button value="kw" @click="toggle = !toggle">X</button> -->
    <div class="row nv" v-show="toggle">
      <div
        v-for="keyw in kw"
        :key="keyw.id"
        class="d-flex justify-content-around p-3 hidden"
      >
        <nuxt-link :to="'/movies/' + keyw.id">
          <img
            :src="'http://image.tmdb.org/t/p/w185' + keyw.poster_path"
            alt=""
            v-show="!keyw.visible"
          />
        </nuxt-link>
      </div>
    </div>
  </div>
</template>

<script lang="ts">
import Vue from "vue";
import axios from "axios";
export default Vue.extend({
  data() {
    return {
      admin: "",
      message: "",
      auth: false,
      toggle: false,
      kw: [],
      keyword: "",
      visible: false,
    };
  },
  methods: {
    async logout() {
      await fetch("http://localhost:8000/api/logout", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        credentials: "include",
      });
      await this.$router.go({ path: "/", force: true });
    },

    async byKeyword() {
      try {
        const response = await axios.get(
          `https://api.themoviedb.org/3/search/movie?query=${this.keyword}&api_key=883994e321728f9053b9247358de5998&page=1`
        );
        {
          this.kw = response.data.results;
          console.log(response);
        }
      } catch (e) {
        console.error(e);
      }
    },
  },
  async mounted() {
    try {
      const response = await fetch("http://localhost:8000/api/user", {
        headers: { "Content-Type": "application/json" },
        credentials: "include",
      });
      const content = await response.json();
      this.message = "Bonjour " + content.name;
      this.idUser = content.id;
      this.auth = true;
      this.admin = content.admin;
    } catch (e) {
      this.message = "";
      this.auth = false;
    }

    /*      this.$nuxt.$on('auth', auth => {
      this.auth = auth;
    }); */

    axios
      .get(
        `https://api.themoviedb.org/3/search/movie?query=${this.keyword}&api_key=883994e321728f9053b9247358de5998&page=1`
      )
      .then(
        (response) =>
          (this.kw = response.data.map((keyw) => {
            keyw.visible = true;
            return keyw;
          }))
      );
  },
});
</script>
<style>
.clos {
  width: 0 !important;
  height: 0 !important;
  background-color: transparent !important;
}
.nv {
  position: absolute;
  z-index: 100;
  background-color: white;
  overflow: auto;
  height: 325px;
  width: 700px;
}
</style>
